<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Particle Effects Demo</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: black;
      overflow: hidden;
      color: white;
      font-family: sans-serif;
    }
    #controls {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 10;
      background: rgba(0,0,0,0.5);
      padding: 10px;
      border-radius: 8px;
    }
    .particle {
      position: absolute;
      border-radius: 50%;
      will-change: transform, opacity;
    }
  </style>
</head>
<body>
  <div id="controls">
    <label>–ï—Ñ–µ–∫—Ç: </label>
    <select id="effect">
      <option value="snow">‚ùÑÔ∏è –°–Ω—ñ–≥</option>
      <option value="rain">üíß –î–æ—â</option>
      <option value="stars">‚ú® –ó–æ—Ä–µ–ø–∞–¥</option>
      <option value="bubbles">ü´ß –ë—É–ª—å–±–∞—à–∫–∏</option>
      <option value="sparks">üî• –Ü—Å–∫—Ä–∏</option>
      <option value="firework">üéÜ –°–∞–ª—é—Ç</option>
      <option value="confetti">üéâ –ö–æ–Ω—Ñ–µ—Ç—Ç—ñ</option>
    </select>
  </div>

  <script>
    const particles = [];
    const effectSelect = document.getElementById("effect");
    let currentEffect = effectSelect.value;

    effectSelect.addEventListener("change", () => {
      currentEffect = effectSelect.value;
    });

    function createParticle(x = Math.random() * window.innerWidth, y = -10) {
      const el = document.createElement("div");
      el.className = "particle";

      let p = {
        el,
        x,
        y,
        dx: 0,
        dy: 0,
        size: 2 + Math.random() * 4,
        opacity: 1,
        life: 200 + Math.random() * 100,
        scale: 1,
        rotate: 0
      };

      switch (currentEffect) {
        case "snow":
          el.style.background = "white";
          p.dy = 0.5 + Math.random() * 1;
          break;

        case "rain":
          el.style.background = "aqua";
          p.size = 2;
          el.style.width = "2px";
          el.style.height = "15px";
          p.dy = 4 + Math.random() * 4;
          break;

        case "stars":
          el.style.background = "yellow";
          p.dy = 2 + Math.random() * 3;
          p.dx = -1 + Math.random() * 2;
          break;

        case "bubbles":
          el.style.background = "rgba(173,216,230,0.7)";
          p.dy = -0.5 - Math.random() * 0.5; // –ø–æ–≤—ñ–ª—å–Ω–∏–π –ø—ñ–¥–π–æ–º
          p.life = 400 + Math.random() * 200; // –¥–æ–≤—à–µ –∂–∏–≤—É—Ç—å
          p.y = window.innerHeight + Math.random() * 50; // —Å—Ç–∞—Ä—Ç –∑–Ω–∏–∑—É
          p.x = Math.random() * window.innerWidth;
          break;

        case "sparks":
          el.style.background = `hsl(${Math.random() * 360},100%,60%)`;
          p.dx = -2 + Math.random() * 4;
          p.dy = -2 + Math.random() * 4;
          p.size = 3;
          p.life = 60 + Math.random() * 40;
          break;

        case "firework": {
          el.style.background = "white";
          p.dy = -6;
          p.size = 4;
          p.life = 60 + Math.random() * 20;
          setTimeout(() => explode(x, y - 150), 800);
          break;
        }

        case "confetti": {
          el.style.background = `hsl(${Math.random() * 360},100%,50%)`;
          el.style.borderRadius = "2px";
          p.size = 6;
          p.dy = 2 + Math.random() * 3;
          p.dx = -1.5 + Math.random() * 3;
          p.rotate = Math.random() * 360;
          break;
        }
      }

      el.style.width = el.style.width || p.size + "px";
      el.style.height = el.style.height || p.size + "px";
      document.body.appendChild(el);
      particles.push(p);
    }

    function explode(x, y) {
      for (let i = 0; i < 40; i++) {
        const el = document.createElement("div");
        el.className = "particle";
        el.style.background = `hsl(${Math.random() * 360},100%,60%)`;
        const angle = Math.random() * Math.PI * 2;
        const speed = 2 + Math.random() * 4;

        const p = {
          el,
          x,
          y,
          dx: Math.cos(angle) * speed,
          dy: Math.sin(angle) * speed,
          size: 4,
          opacity: 1,
          life: 80 + Math.random() * 40,
          scale: 1
        };

        el.style.width = "4px";
        el.style.height = "4px";
        document.body.appendChild(el);
        particles.push(p);
      }
    }

    function animate() {
      for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.x += p.dx;
        p.y += p.dy;
        p.life--;

        if (currentEffect === "sparks" || currentEffect === "firework") {
          p.dy += 0.05; // –≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ—è
        }
        if (currentEffect === "confetti") {
          p.rotate += 10;
          p.el.style.transform = `translate(${p.x}px,${p.y}px) rotate(${p.rotate}deg)`;
        } else {
          p.el.style.transform = `translate(${p.x}px,${p.y}px) scale(${p.scale})`;
        }

        p.el.style.opacity = p.opacity;

        // –≤–∏–¥–∞–ª—è—î–º–æ –ª–∏—à–µ –∫–æ–ª–∏ "–ø–æ–º–µ—Ä–ª–∞" –∞–±–æ –∑–∞ –º–µ–∂–∞–º–∏ –µ–∫—Ä–∞–Ω—É
        if (
          p.life <= 0 ||
          p.y > window.innerHeight + 20 ||
          p.x < -50 ||
          p.x > window.innerWidth + 50
        ) {
          p.el.remove();
          particles.splice(i, 1);
        }
      }
      requestAnimationFrame(animate);
    }

    setInterval(() => {
      if (currentEffect === "firework") {
        if (Math.random() < 0.1) {
          createParticle(Math.random() * window.innerWidth, window.innerHeight);
        }
      } else {
        for (let i = 0; i < 5; i++) createParticle();
      }
    }, 100);

    animate();
  </script>
</body>
</html>
